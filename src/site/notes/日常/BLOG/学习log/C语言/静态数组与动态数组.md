---
{"dg-publish":true,"permalink":"//blog/log/c//"}
---

[[实验室/自我提升/C语言/C语言数组\|C语言数组]]
## 静态数组与动态数组
静态数组特点：
- 内存分配：静态数组的内存通常分配在栈上，随着函数的调用和返回而自动管理。
- 大小固定：在定义时指定大小，且在程序运行过程中不能更改。
- 效率：由于在栈上分配内存，访问速度较快。
- 生命周期：静态数组的生命周期始于其定义时。如果在函数内部定义，生命周期与函数的调用相同；如果在全局范围定义，生命周期贯穿整个程序运行。

于静态数组，可以使用 sizeof 运算符来获取数组长度，例如：
~~~c
int array[] = {1, 2, 3, 4, 5};
int length = sizeof(array) / sizeof(array[0]);
~~~

动态数组特点：
- 内存分配：动态数组的内存空间在运行时通过动态内存分配函数手动分配，并存储在堆上。需要使用 `malloc`、`calloc` 等函数来申请内存，并使用 `free` 函数来释放内存。
- 大小可变：动态数组的大小在运行时可以根据需要进行调整。可以使用 `realloc` 函数来重新分配内存，并改变数组的大小。
- 生命周期：动态数组的生命周期由程序员控制。需要在使用完数组后手动释放内存，以避免内存泄漏。


~~~c
int size = 5; // 数组长度
int *array = malloc(size * sizeof(int));

// 使用数组

free(array); // 释放内存
~~~

==PS==:在不再使用该数组的时候，再释放内存。
