---
{"dg-publish":true,"permalink":"//blog/log///"}
---

[[日常/BLOG/学习log/数据结构/数据结构\|数据结构]]

## 描述
堆是完全二叉树结构，如下图，一个父结点最多有两个子结点，子结点必定大于父结点。因此，最小值被存储在顶端的根结点中。往堆中添加数据时，为了遵守这条规则，一般会把新数据放在最下面一行靠左的位置。当最下面一行里没有多余空间时，就再往下另起一行，把数据加在这一行的最左端。如果子结点小于父结点，就交换父子。

如果要从堆里取数据，取完之后就要更新堆结构，先把最新添加的数据放到被取的数据位置，然后和子结点里较小的比较是否符合堆原则，不符合就交换父子。
## 特点
顶端数据永远最小，取最小值的时间复杂度永远是O(1)
取数据的时间复杂度是O(logn)，树的高度是logn。
## 左神笔记--新手学不清楚
堆是完全二叉树结构，即
![Pasted image 20240724143833.png|275](/img/user/%E5%AE%9E%E9%AA%8C%E5%AE%A4/%E6%96%87%E4%BB%B6/Pasted%20image%2020240724143833.png)
其中左孩子、右孩子、父的下标计算方式是
![Pasted image 20240724143915.png|275](/img/user/%E5%AE%9E%E9%AA%8C%E5%AE%A4/%E6%96%87%E4%BB%B6/Pasted%20image%2020240724143915.png)


可以分成大根堆和小根堆，大根堆就是在子树中父是最大的数，小根堆是在子树中父是最小的数。
# 将数组排成大根堆（heapInset）
一个一个放数，指针++，并比较新进来的数和父，如果新数比父大，则交换位置。
![Pasted image 20240724145003.png](/img/user/%E5%AE%9E%E9%AA%8C%E5%AE%A4/%E6%96%87%E4%BB%B6/Pasted%20image%2020240724145003.png)
这里可以应对两种情况，一个是新数比父大，一个是index是0的时候，(0-1)/2 =-0.5，取整=0.

# 将部分数组排成大根堆（heapify）